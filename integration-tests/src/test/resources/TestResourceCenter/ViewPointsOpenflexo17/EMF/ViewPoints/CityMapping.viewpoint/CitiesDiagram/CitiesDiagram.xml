<?xml version="1.0" encoding="UTF-8"?>
<VirtualModel id="0" userID="FLX" useSpecificDescriptions="false" flexoID="-1" name="CitiesDiagram">
  <FlexoConcept id="1" userID="FLX" useSpecificDescriptions="false" flexoID="10" name="CityGR">
    <Inspector id="2" flexoID="1" userID="FLX" useSpecificDescriptions="false" inspectorTitle="CityGR" renderer="(((city.cityInModel1 != null) ? (&quot;SyncCity (1) : &quot; + city.cityInModel1.name) : (&quot;SyncCity (2) : &quot; + city.cityInModel2.name)) + &quot;-&quot;)" />
    <ShapeRole id="3" exampleLabel="City" useSpecificDescriptions="false" userID="FLX" cloningStratgey="Clone" flexoID="8" name="shape">
      <ShapeGraphicalRepresentation id="4" minimalHeight="0.0" relativeTextX="0.5" transparency="1.0" drawControlPointsWhenFocused="true" height="60.0" hasFocusedBackground="false" verticalTextAlignment="MIDDLE" adjustMinimalWidthToLabelWidth="true" width="60.0" hasFocusedForeground="false" hasSelectedBackground="false" allowToLeaveBounds="false" isFocusable="true" drawControlPointsWhenSelected="true" isSelectable="true" isLabelEditable="true" relativeTextY="0.5" continuousTextEditing="true" minimalWidth="0.0" identifier="object_0" lineWrap="false" locationConstraints="FREELY_MOVABLE" adjustMinimalHeightToLabelHeight="true" horizontalTextAlignment="CENTER" adaptBoundsToContents="false" maximalHeight="Infinity" isVisible="true" dimensionConstraints="CONSTRAINED_DIMENSIONS" isReadOnly="false" adjustMaximalHeightToLabelHeight="false" isFloatingLabel="true" hasSelectedForeground="false" paragraphAlignment="CENTER" layer="1" absoluteTextX="49.0" absoluteTextY="9.0" adjustMaximalWidthToLabelWidth="false" isMultilineAllowed="false" y="19.0" maximalWidth="Infinity" x="121.0">
        <FocusedForegroundStyle id="5" dashStyle="PLAIN_STROKE" color="0,0,0" transparencyLevel="0.5" noStroke="false" useTransparency="false" lineWidth="1.0" capStyle="CAP_SQUARE" joinStyle="JOIN_MITER" />
        <SelectedColorBackgroundStyle id="6" color="254,247,217" transparencyLevel="0.5" useTransparency="false" />
        <TextStyle id="7" orientation="0" color="0,0,0" backgroundColor="255,255,255" font="Lucida Sans,0,11" isBackgroundColored="false" />
        <ShapeBorder id="8" bottom="20" left="20" right="20" top="20" />
        <ForegroundStyle id="9" dashStyle="PLAIN_STROKE" color="0,0,0" transparencyLevel="0.5" noStroke="false" useTransparency="false" lineWidth="1.0" capStyle="CAP_SQUARE" joinStyle="JOIN_MITER" />
        <SelectedForegroundStyle id="10" dashStyle="PLAIN_STROKE" color="0,0,0" transparencyLevel="0.5" noStroke="false" useTransparency="false" lineWidth="1.0" capStyle="CAP_SQUARE" joinStyle="JOIN_MITER" />
        <FocusedColorBackgroundStyle id="11" color="254,247,217" transparencyLevel="0.5" useTransparency="false" />
        <CircleShape id="12" />
        <ShadowStyle id="13" shadowDepth="2" shadowBlur="4" drawShadow="true" shadowDarkness="150" />
        <ImageBackgroundStyle id="14" scaleX="0.46875" scaleY="0.46875" imageBackgroundColor="255,255,255" transparencyLevel="0.5" fitToShape="true" useTransparency="false" imageFile="City.png" imageBackgroundType="TRANSPARENT" deltaX="0.0" deltaY="0.0" />
      </ShapeGraphicalRepresentation>
      <GRSpec id="15" featureName="label" flexoID="60" readOnly="true" userID="FLX" useSpecificDescriptions="false" value="city.render" />
      <TypedDiagramModelSlot idref="16" />
    </ShapeRole>
    <FlexoConceptInstanceRole id="17" cloningStratgey="Reference" flexoID="9" name="city" useSpecificDescriptions="false" userID="FLX" flexoConceptTypeURI="http://www.thalesgroup.com/openflexo/emf/CityMapping/CityMapping#City">
      <VirtualModelModelSlot idref="18" />
    </FlexoConceptInstanceRole>
    <CreationScheme id="19" useSpecificDescriptions="false" width="800" userID="FLX" label="creation" definePopupDefaultSize="false" height="600" flexoID="4" skipConfirmationPanel="false" name="creation">
      <FlexoConceptInstanceParameter id="20" useSpecificDescriptions="false" userID="FLX" label="city" flexoID="23" isRequired="false" name="city" />
      <DeclareFlexoRole id="21" userID="FLX" useSpecificDescriptions="false" object="parameters.city" flexoID="11" assignation="city" />
      <AddShape id="22" flexoID="12" assignation="shape" container="typedDiagramModelSlot" useSpecificDescriptions="false" userID="FLX" extendParentBoundsToHostThisShape="false">
        <TypedDiagramModelSlot idref="16" />
      </AddShape>
    </CreationScheme>
    <DeletionScheme id="23" useSpecificDescriptions="false" width="800" userID="FLX" label="deletion" definePopupDefaultSize="false" height="600" flexoID="5" skipConfirmationPanel="false" name="deletion">
      <DeleteAction id="24" flexoID="13" userID="FLX" useSpecificDescriptions="false" object="shape" />
    </DeletionScheme>
    <ActionScheme id="25" useSpecificDescriptions="false" width="800" userID="FLX" label="synchronizeThatCity" definePopupDefaultSize="false" height="600" flexoID="42" skipConfirmationPanel="false" name="synchronizeThatCity">
      <ExecutionAction id="26" flexoID="45" description="" useSpecificDescriptions="false" userID="FLX" conditional="(city.cityInModel1 = null)" execution="city.generateModel1FromModel2()" />
      <ExecutionAction id="27" flexoID="46" description="" useSpecificDescriptions="false" userID="FLX" conditional="(city.cityInModel2 = null)" execution="city.generateModel2FromModel1()" />
    </ActionScheme>
    <ActionScheme id="28" useSpecificDescriptions="false" width="800" userID="FLX" label="ChangeTheName" definePopupDefaultSize="false" height="600" flexoID="47" skipConfirmationPanel="false" name="ChangeTheName">
      <TextFieldParameter id="29" flexoID="49" isRequired="false" name="newName" userID="FLX" useSpecificDescriptions="false" label="newName" />
      <AssignationAction id="30" flexoID="50" assignation="city.cityInModel1.name" description="" useSpecificDescriptions="false" userID="FLX" value="parameters.newName" conditional="(city.cityInModel1 != null)" />
      <AssignationAction id="31" flexoID="51" assignation="city.cityInModel2.name" description="" useSpecificDescriptions="false" userID="FLX" value="parameters.newName" conditional="(city.cityInModel2 != null)" />
    </ActionScheme>
  </FlexoConcept>
  <Inspector id="32" flexoID="-1" userID="FLX" useSpecificDescriptions="false" inspectorTitle="CitiesDiagram" />
  <ModelSlot_VirtualModelModelSlot id="18" cloningStratgey="Reference" flexoID="22" isRequired="true" userID="FLX" useSpecificDescriptions="false" name="cityMapping" isReadOnly="false" virtualModelURI="http://www.thalesgroup.com/openflexo/emf/CityMapping/CityMapping" />
  <ModelSlot_TypedDiagramModelSlot id="16" userID="FLX" useSpecificDescriptions="false" cloningStratgey="Reference" flexoID="21" isRequired="true" name="typedDiagramModelSlot" metaModelURI="http://www.thalesgroup.com/openflexo/emf/CityMapping/CitiesDiagram/CitiesDiagram.diagramspecification" isReadOnly="false" />
  <SynchronizationScheme id="33" useSpecificDescriptions="false" width="800" userID="FLX" label="synchronization" definePopupDefaultSize="false" height="600" flexoID="7" skipConfirmationPanel="false" name="synchronization">
    <FetchRequestIterationAction id="34" flexoID="14" iteratorName="city" useSpecificDescriptions="false" userID="FLX">
      <VirtualModelModelSlot idref="18" />
      <FetchRequest_SelectFlexoConceptInstance id="35" flexoID="15" userID="FLX" useSpecificDescriptions="false" flexoConceptTypeURI="http://www.thalesgroup.com/openflexo/emf/CityMapping/CityMapping#City">
        <VirtualModelModelSlot idref="18" />
      </FetchRequest_SelectFlexoConceptInstance>
      <MatchFlexoConceptInstance id="36" useSpecificDescriptions="false" userID="FLX" virtualModelInstance="virtualModelInstance" flexoID="18" creationSchemeURI="http://www.thalesgroup.com/openflexo/emf/CityMapping/CitiesDiagram#CityGR.creation">
        <MatchingCriteria id="37" flexoID="16" useSpecificDescriptions="false" userID="FLX" patternRoleName="shape" />
        <MatchingCriteria id="38" flexoID="17" useSpecificDescriptions="false" userID="FLX" value="city" patternRoleName="city" />
        <CreateFlexoConceptInstanceParameter id="39" flexoID="19" useSpecificDescriptions="false" userID="FLX" value="city" paramName="city" />
      </MatchFlexoConceptInstance>
    </FetchRequestIterationAction>
  </SynchronizationScheme>
</VirtualModel>
