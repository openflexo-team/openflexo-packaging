<?xml version="1.0" encoding="UTF-8"?>
<VirtualModel id="1" modelVersion="1.0" name="CityMapping" userID="FLX">
  <FlexoConcept id="2" name="City" userID="FLX">
    <CreationScheme id="3" name="creation" label="creation" skipConfirmationPanel="false" definePopupDefaultSize="false" width="800" height="600" userID="FLX">
      <IndividualParameter id="4" conceptURI="http://www.thalesgroup.com/openflexo/emf/model/city1/City" name="cityInModel1" label="cityInModel1" usePaletteLabelAsDefaultValue="false" isRequired="false" userID="FLX">
        <EMFModelSlot id="5" isRequired="true" isReadOnly="false" name="model1" metaModelURI="http://www.thalesgroup.com/openflexo/emf/model/city1" userID="FLX" />
      </IndividualParameter>
      <IndividualParameter id="6" conceptURI="http://www.thalesgroup.com/openflexo/emf/model/city2/City" name="cityInModel2" label="cityInModel2" usePaletteLabelAsDefaultValue="false" isRequired="false" userID="FLX">
        <EMFModelSlot id="7" isRequired="true" isReadOnly="false" name="model2" metaModelURI="http://www.thalesgroup.com/openflexo/emf/model/city2" userID="FLX" />
      </IndividualParameter>
      <DeclareFlexoRole id="8" object="parameters.cityInModel1" assignation="cityInModel1" userID="FLX" />
      <DeclareFlexoRole id="9" object="parameters.cityInModel2" assignation="cityInModel2" userID="FLX" />
    </CreationScheme>
    <ActionScheme id="10" conditional="(cityInModel2 = null)" name="generateModel2FromModel1" label="generateModel2FromModel1" skipConfirmationPanel="true" definePopupDefaultSize="false" width="800" height="600" userID="FLX">
      <AddEMFObjectIndividual id="11" assignation="cityInModel2" userID="FLX">
        <EMFModelSlot idref="7" userID="FLX" />
        <DataPropertyAssertion id="12" dataPropertyURI="http://www.thalesgroup.com/openflexo/emf/model/city2/City/name" value="cityInModel1.name" userID="FLX" />
      </AddEMFObjectIndividual>
    </ActionScheme>
    <ActionScheme id="13" conditional="(cityInModel1 = null)" name="generateModel1FromModel2" label="generateModel1FromModel2" skipConfirmationPanel="false" definePopupDefaultSize="false" width="800" height="600" userID="FLX">
      <AddEMFObjectIndividual id="14" ontologyClassURI="http://www.thalesgroup.com/openflexo/emf/model/city1/City" userID="FLX">
        <EMFModelSlot idref="5" userID="FLX" />
        <DataPropertyAssertion id="15" dataPropertyURI="http://www.thalesgroup.com/openflexo/emf/model/city1/City/name" value="cityInModel2.name" userID="FLX" />
      </AddEMFObjectIndividual>
    </ActionScheme>
    <DeletionScheme id="16" name="deletion" label="deletion" skipConfirmationPanel="false" definePopupDefaultSize="false" width="800" height="600" userID="FLX">
      <DeleteAction id="17" object="cityInModel1" userID="FLX" />
      <DeleteAction id="18" object="cityInModel2" userID="FLX" />
    </DeletionScheme>
    <EMFObjectIndividualRole id="19" name="cityInModel1" ontologicType="http://www.thalesgroup.com/openflexo/emf/model/city1/City" userID="FLX">
      <EMFModelSlot idref="5" userID="FLX" />
    </EMFObjectIndividualRole>
    <EMFObjectIndividualRole id="20" name="cityInModel2" ontologicType="http://www.thalesgroup.com/openflexo/emf/model/city2/City" userID="FLX">
      <EMFModelSlot idref="7" userID="FLX" />
    </EMFObjectIndividualRole>
    <PrimaryConceptEMFObjectIndividualPatternRole idref="19" userID="FLX" />
    <Inspector id="21" inspectorTitle="City" renderer="((instance.cityInModel1 != null) ? ((instance.cityInModel2 != null) ? (instance.cityInModel1.name + &quot; [sync]&quot;) : (instance.cityInModel1.name + &quot; [model1]&quot;)) : (instance.cityInModel2.name + &quot; [model2]&quot;))" userID="FLX" />
    <Constraint id="22" constraint="(cityInModel1.name.toUpperCase = cityInModel2.name.toUpperCase)" userID="FLX" />
  </FlexoConcept>
  <FlexoConcept id="23" name="House" userID="FLX">
    <Inspector id="24" inspectorTitle="House" userID="FLX" />
  </FlexoConcept>
  <FlexoConcept id="25" name="Appartment" parentFlexoConcept="http://www.thalesgroup.com/openflexo/emf/CityMapping/CityMapping#House" userID="FLX">
    <CreationScheme id="26" name="creation" label="creation" skipConfirmationPanel="false" definePopupDefaultSize="false" width="800" height="600" userID="FLX">
      <IndividualParameter id="27" conceptURI="http://www.thalesgroup.com/openflexo/emf/model/city1/House" name="houseInModel1" label="houseInModel1" usePaletteLabelAsDefaultValue="false" isRequired="false" userID="FLX">
        <EMFModelSlot idref="5" userID="FLX" />
      </IndividualParameter>
      <IndividualParameter id="28" conceptURI="http://www.thalesgroup.com/openflexo/emf/model/city2/Appartment" name="appartmentInModel2" label="appartmentInModel2" usePaletteLabelAsDefaultValue="false" isRequired="false" userID="FLX">
        <EMFModelSlot idref="7" userID="FLX" />
      </IndividualParameter>
      <FlexoConceptInstanceParameter id="29" flexoConceptTypeURI="http://www.thalesgroup.com/openflexo/emf/CityMapping/CityMapping#City" name="cityParameter" label="city" usePaletteLabelAsDefaultValue="false" isRequired="false" userID="FLX">
        <VirtualModelModelSlot id="30" virtualModelURI="http://www.thalesgroup.com/openflexo/emf/CityMapping/CityMapping" isRequired="false" isReadOnly="false" name="virtualModelInstance" userID="FLX" />
      </FlexoConceptInstanceParameter>
      <DeclareFlexoRole id="31" object="parameters.houseInModel1" name="" assignation="houseInModel1" userID="FLX" />
      <DeclareFlexoRole id="32" object="parameters.appartmentInModel2" assignation="appartmentInModel2" userID="FLX" />
      <DeclareFlexoRole id="33" object="parameters.cityParameter" assignation="city" userID="FLX" />
    </CreationScheme>
    <DeletionScheme id="34" name="deletion" label="deletion" skipConfirmationPanel="false" definePopupDefaultSize="false" width="800" height="600" userID="FLX">
      <DeleteAction id="35" object="houseInModel1" userID="FLX" />
      <DeleteAction id="36" object="appartmentInModel2" userID="FLX" />
    </DeletionScheme>
    <EMFObjectIndividualRole id="37" name="houseInModel1" ontologicType="http://www.thalesgroup.com/openflexo/emf/model/city1/House" userID="FLX">
      <EMFModelSlot idref="5" userID="FLX" />
    </EMFObjectIndividualRole>
    <EMFObjectIndividualRole id="38" name="appartmentInModel2" ontologicType="http://www.thalesgroup.com/openflexo/emf/model/city2/Appartment" userID="FLX">
      <EMFModelSlot idref="7" userID="FLX" />
    </EMFObjectIndividualRole>
    <FlexoConceptInstanceRole id="39" flexoConceptTypeURI="http://www.thalesgroup.com/openflexo/emf/CityMapping/CityMapping#City" name="city" userID="FLX">
      <VirtualModelModelSlot idref="30" userID="FLX" />
    </FlexoConceptInstanceRole>
    <PrimaryConceptEMFObjectIndividualPatternRole idref="37" userID="FLX" />
    <Inspector id="40" inspectorTitle="Appartment" renderer="(&quot;Appartment &quot; + ((instance.houseInModel1 != null) ? ((instance.appartmentInModel2 != null) ? (instance.houseInModel1.info + &quot; [sync]&quot;) : (instance.houseInModel1.info + &quot; [model1]&quot;)) : (instance.appartmentInModel2.label + &quot; [model2]&quot;)))" userID="FLX" />
    <Constraint id="41" constraint="(houseInModel1.type.name = &quot;Appartment&quot;)" userID="FLX" />
    <Constraint id="42" constraint="(houseInModel1.info = appartmentInModel2.label)" userID="FLX" />
  </FlexoConcept>
  <FlexoConcept id="43" name="Mansion" parentFlexoConcept="http://www.thalesgroup.com/openflexo/emf/CityMapping/CityMapping#House" userID="FLX">
    <CreationScheme id="44" name="creation" label="creation" skipConfirmationPanel="false" definePopupDefaultSize="false" width="800" height="600" userID="FLX">
      <IndividualParameter id="45" conceptURI="http://www.thalesgroup.com/openflexo/emf/model/city1/House" name="houseInModel1" label="houseInModel1" usePaletteLabelAsDefaultValue="false" isRequired="false" userID="FLX">
        <EMFModelSlot idref="5" userID="FLX" />
      </IndividualParameter>
      <IndividualParameter id="46" conceptURI="http://www.thalesgroup.com/openflexo/emf/model/city2/Mansion" name="mansionInModel2" label="mansionInModel2" usePaletteLabelAsDefaultValue="false" isRequired="false" userID="FLX">
        <EMFModelSlot idref="7" userID="FLX" />
      </IndividualParameter>
      <FlexoConceptInstanceParameter id="47" flexoConceptTypeURI="http://www.thalesgroup.com/openflexo/emf/CityMapping/CityMapping#City" name="cityParameter" label="city" usePaletteLabelAsDefaultValue="false" isRequired="false" userID="FLX">
        <VirtualModelModelSlot idref="30" userID="FLX" />
      </FlexoConceptInstanceParameter>
      <DeclareFlexoRole id="48" object="parameters.houseInModel1" assignation="houseInModel1" userID="FLX" />
      <DeclareFlexoRole id="49" object="parameters.mansionInModel2" assignation="mansionInModel2" userID="FLX" />
      <DeclareFlexoRole id="50" object="parameters.cityParameter" assignation="city" userID="FLX" />
    </CreationScheme>
    <DeletionScheme id="51" name="deletion" label="deletion" skipConfirmationPanel="false" definePopupDefaultSize="false" width="800" height="600" userID="FLX">
      <DeleteAction id="52" object="houseInModel1" userID="FLX" />
      <DeleteAction id="53" object="mansionInModel2" userID="FLX" />
    </DeletionScheme>
    <EMFObjectIndividualRole id="54" name="houseInModel1" ontologicType="http://www.thalesgroup.com/openflexo/emf/model/city1/House" userID="FLX">
      <EMFModelSlot idref="5" userID="FLX" />
    </EMFObjectIndividualRole>
    <EMFObjectIndividualRole id="55" name="mansionInModel2" ontologicType="http://www.thalesgroup.com/openflexo/emf/model/city2/Mansion" userID="FLX">
      <EMFModelSlot idref="7" userID="FLX" />
    </EMFObjectIndividualRole>
    <FlexoConceptInstanceRole id="56" flexoConceptTypeURI="http://www.thalesgroup.com/openflexo/emf/CityMapping/CityMapping#City" name="city" userID="FLX">
      <VirtualModelModelSlot idref="30" userID="FLX" />
    </FlexoConceptInstanceRole>
    <PrimaryConceptEMFObjectIndividualPatternRole idref="54" userID="FLX" />
    <Inspector id="57" inspectorTitle="Mansion" renderer="(&quot;Mansion &quot; + ((instance.houseInModel1 != null) ? ((instance.mansionInModel2 != null) ? (instance.houseInModel1.info + &quot; [sync]&quot;) : (instance.houseInModel1.info + &quot; [model1]&quot;)) : (instance.mansionInModel2.number.toString + &quot; [model2]&quot;)))" userID="FLX" />
    <Constraint id="58" constraint="(houseInModel1.type.name = &quot;Mansion&quot;)" userID="FLX" />
    <Constraint id="59" constraint="(houseInModel1.info = mansionInModel2.number.toString)" userID="FLX" />
  </FlexoConcept>
  <FlexoConcept id="60" name="Resident" userID="FLX">
    <CreationScheme id="61" name="creation" label="creation" skipConfirmationPanel="false" definePopupDefaultSize="false" width="800" height="600" userID="FLX">
      <IndividualParameter id="62" conceptURI="http://www.thalesgroup.com/openflexo/emf/model/city1/Resident" name="residentInModel1" label="residentInModel1" usePaletteLabelAsDefaultValue="false" isRequired="false" userID="FLX">
        <EMFModelSlot idref="5" userID="FLX" />
      </IndividualParameter>
      <IndividualParameter id="63" conceptURI="http://www.thalesgroup.com/openflexo/emf/model/city2/House" name="houseInModel2" label="houseInModel2" usePaletteLabelAsDefaultValue="false" isRequired="false" userID="FLX">
        <EMFModelSlot idref="7" userID="FLX" />
      </IndividualParameter>
      <DeclareFlexoRole id="64" object="parameters.residentInModel1" assignation="residentInModel1" userID="FLX" />
      <DeclareFlexoRole id="65" object="parameters.houseInModel2" assignation="houseInModel2" userID="FLX" />
    </CreationScheme>
    <EMFObjectIndividualRole id="66" name="residentInModel1" ontologicType="http://www.thalesgroup.com/openflexo/emf/model/city1/Resident" userID="FLX">
      <EMFModelSlot idref="5" userID="FLX" />
    </EMFObjectIndividualRole>
    <EMFObjectIndividualRole id="67" name="houseInModel2" ontologicType="http://www.thalesgroup.com/openflexo/emf/model/city2/House" userID="FLX">
      <EMFModelSlot idref="7" userID="FLX" />
    </EMFObjectIndividualRole>
    <PrimaryConceptEMFObjectIndividualPatternRole idref="66" userID="FLX" />
    <Inspector id="68" inspectorTitle="Resident" renderer="((instance.residentInModel1 != null) ? ((instance.houseInModel2 != null) ? (instance.residentInModel1.name + &quot; [sync]&quot;) : (instance.residentInModel1.name + &quot; [model1]&quot;)) : (instance.houseInModel2.owner + &quot; [model2]&quot;))" userID="FLX" />
    <Constraint id="69" constraint="(residentInModel1.name = houseInModel2.owner)" userID="FLX" />
  </FlexoConcept>
  <FlexoConcept id="70" name="Mayor" parentFlexoConcept="http://www.thalesgroup.com/openflexo/emf/CityMapping/CityMapping#Resident" userID="FLX">
    <Inspector id="71" inspectorTitle="Mayor" userID="FLX" />
  </FlexoConcept>
  <LocalizedDictionary id="72" userID="FLX" />
  <ModelSlot_EMFModelSlot idref="5" userID="FLX" />
  <ModelSlot_EMFModelSlot idref="7" userID="FLX" />
  <ModelSlot_VirtualModelModelSlot idref="30" userID="FLX" />
  <SynchronizationScheme id="73" name="synchronization" label="synchronization" skipConfirmationPanel="false" definePopupDefaultSize="false" width="800" height="600" userID="FLX">
    <FetchRequestIterationAction id="74" iteratorName="city1" userID="FLX">
      <AddressedSelectEMFObjectIndividual id="75" ontologyClassURI="http://www.thalesgroup.com/openflexo/emf/model/city1/City" userID="FLX">
        <EMFModelSlot idref="5" userID="FLX" />
      </AddressedSelectEMFObjectIndividual>
      <EMFModelSlot idref="5" userID="FLX" />
      <FetchRequest_SelectEMFObjectIndividual id="76" ontologyClassURI="http://www.thalesgroup.com/openflexo/emf/model/city2/City" variableName="matchingCitiesInModel2" assignation="matchingCitiesInModel2" userID="FLX">
        <Condition id="77" condition="(selected.name.toUpperCase = city1.name.toUpperCase)" userID="FLX" />
        <EMFModelSlot idref="7" userID="FLX" />
      </FetchRequest_SelectEMFObjectIndividual>
      <ConditionalAction id="78" condition="(matchingCitiesInModel2.size = 0)" userID="FLX">
        <MatchFlexoConceptInstance id="79" virtualModelInstance="virtualModelInstance" creationSchemeURI="http://www.thalesgroup.com/openflexo/emf/CityMapping/CityMapping#City.creation" name="" userID="FLX">
          <MatchingCriteria id="80" patternRoleName="cityInModel1" value="city1" userID="FLX" />
          <MatchingCriteria id="81" patternRoleName="cityInModel2" value="null" userID="FLX" />
          <CreateFlexoConceptInstanceParameter id="82" paramName="cityInModel1" value="city1" userID="FLX" />
          <CreateFlexoConceptInstanceParameter id="83" paramName="cityInModel2" value="null" userID="FLX" />
        </MatchFlexoConceptInstance>
      </ConditionalAction>
      <ConditionalAction id="84" condition="(matchingCitiesInModel2.size = 1)" userID="FLX">
        <MatchFlexoConceptInstance id="85" virtualModelInstance="virtualModelInstance" creationSchemeURI="http://www.thalesgroup.com/openflexo/emf/CityMapping/CityMapping#City.creation" userID="FLX">
          <MatchingCriteria id="86" patternRoleName="cityInModel1" value="city1" userID="FLX" />
          <MatchingCriteria id="87" patternRoleName="cityInModel2" value="matchingCitiesInModel2.get(0)" userID="FLX" />
          <CreateFlexoConceptInstanceParameter id="88" paramName="cityInModel1" value="city1" userID="FLX" />
          <CreateFlexoConceptInstanceParameter id="89" paramName="cityInModel2" value="matchingCitiesInModel2.get(0)" userID="FLX" />
        </MatchFlexoConceptInstance>
      </ConditionalAction>
      <FetchRequest_SelectFlexoConceptInstance id="90" flexoConceptTypeURI="http://www.thalesgroup.com/openflexo/emf/CityMapping/CityMapping#City" variableName="tempList" assignation="tempList" userID="FLX">
        <VirtualModelModelSlot idref="30" userID="FLX" />
        <Condition id="91" condition="(selected.cityInModel1 = city1)" userID="FLX" />
      </FetchRequest_SelectFlexoConceptInstance>
      <AssignationAction id="92" value="tempList.get(0)" variableName="currentCity" assignation="currentCity" userID="FLX" />
      <IterationAction id="93" iteration="city1.houses" iteratorName="house1" userID="FLX">
        <EMFModelSlot idref="5" userID="FLX" />
        <ConditionalAction id="94" condition="(house1.type.name = &quot;Appartment&quot;)" userID="FLX">
          <SelectEMFObjectIndividual id="95" ontologyClassURI="http://www.thalesgroup.com/openflexo/emf/model/city2/Appartment" variableName="matchingAppartmentsInModel2" assignation="matchingAppartmentsInModel2" userID="FLX">
            <Condition id="96" condition="(selected.label = house1.info)" userID="FLX" />
            <EMFModelSlot idref="7" userID="FLX" />
          </SelectEMFObjectIndividual>
          <ConditionalAction id="97" condition="(matchingAppartmentsInModel2.size = 0)" userID="FLX">
            <MatchFlexoConceptInstance id="98" virtualModelInstance="virtualModelInstance" creationSchemeURI="http://www.thalesgroup.com/openflexo/emf/CityMapping/CityMapping#Appartment.creation" userID="FLX">
              <MatchingCriteria id="99" patternRoleName="houseInModel1" value="house1" userID="FLX" />
              <MatchingCriteria id="100" patternRoleName="appartmentInModel2" value="null" userID="FLX" />
              <MatchingCriteria id="101" patternRoleName="city" value="currentCity" userID="FLX" />
              <CreateFlexoConceptInstanceParameter id="102" paramName="houseInModel1" value="house1" userID="FLX" />
              <CreateFlexoConceptInstanceParameter id="103" paramName="appartmentInModel2" value="null" userID="FLX" />
              <CreateFlexoConceptInstanceParameter id="104" paramName="cityParameter" value="currentCity" userID="FLX" />
            </MatchFlexoConceptInstance>
          </ConditionalAction>
          <ConditionalAction id="105" condition="(matchingAppartmentsInModel2.size = 1)" userID="FLX">
            <MatchFlexoConceptInstance id="106" virtualModelInstance="virtualModelInstance" creationSchemeURI="http://www.thalesgroup.com/openflexo/emf/CityMapping/CityMapping#Appartment.creation" userID="FLX">
              <MatchingCriteria id="107" patternRoleName="houseInModel1" value="house1" userID="FLX" />
              <MatchingCriteria id="108" patternRoleName="appartmentInModel2" value="matchingAppartmentsInModel2.get(0)" userID="FLX" />
              <MatchingCriteria id="109" patternRoleName="city" value="currentCity" userID="FLX" />
              <CreateFlexoConceptInstanceParameter id="110" paramName="houseInModel1" value="house1" userID="FLX" />
              <CreateFlexoConceptInstanceParameter id="111" paramName="appartmentInModel2" value="matchingAppartmentsInModel2.get(0)" userID="FLX" />
              <CreateFlexoConceptInstanceParameter id="112" paramName="cityParameter" value="currentCity" userID="FLX" />
            </MatchFlexoConceptInstance>
          </ConditionalAction>
        </ConditionalAction>
        <ConditionalAction id="113" condition="(house1.type.name = &quot;Mansion&quot;)" userID="FLX">
          <SelectEMFObjectIndividual id="114" ontologyClassURI="http://www.thalesgroup.com/openflexo/emf/model/city2/Mansion" variableName="matchingMansionsInModel2" assignation="matchingMansionsInModel2" userID="FLX">
            <Condition id="115" condition="(selected.number.toString = house1.info)" userID="FLX" />
            <EMFModelSlot idref="7" userID="FLX" />
          </SelectEMFObjectIndividual>
          <ConditionalAction id="116" condition="(matchingMansionsInModel2.size = 0)" userID="FLX">
            <MatchFlexoConceptInstance id="117" virtualModelInstance="virtualModelInstance" creationSchemeURI="http://www.thalesgroup.com/openflexo/emf/CityMapping/CityMapping#Mansion.creation" userID="FLX">
              <MatchingCriteria id="118" patternRoleName="houseInModel1" value="house1" userID="FLX" />
              <MatchingCriteria id="119" patternRoleName="mansionInModel2" value="null" userID="FLX" />
              <MatchingCriteria id="120" patternRoleName="city" value="currentCity" userID="FLX" />
              <CreateFlexoConceptInstanceParameter id="121" paramName="houseInModel1" value="house1" userID="FLX" />
              <CreateFlexoConceptInstanceParameter id="122" paramName="mansionInModel2" value="null" userID="FLX" />
              <CreateFlexoConceptInstanceParameter id="123" paramName="cityParameter" userID="FLX" />
            </MatchFlexoConceptInstance>
          </ConditionalAction>
          <ConditionalAction id="124" condition="(matchingMansionsInModel2.size = 1)" userID="FLX">
            <MatchFlexoConceptInstance id="125" virtualModelInstance="virtualModelInstance" creationSchemeURI="http://www.thalesgroup.com/openflexo/emf/CityMapping/CityMapping#Mansion.creation" userID="FLX">
              <MatchingCriteria id="126" patternRoleName="houseInModel1" value="house1" userID="FLX" />
              <MatchingCriteria id="127" patternRoleName="mansionInModel2" value="matchingMansionsInModel2.get(0)" userID="FLX" />
              <MatchingCriteria id="128" patternRoleName="city" value="currentCity" userID="FLX" />
              <CreateFlexoConceptInstanceParameter id="129" paramName="houseInModel1" value="house1" userID="FLX" />
              <CreateFlexoConceptInstanceParameter id="130" paramName="mansionInModel2" value="matchingMansionsInModel2.get(0)" userID="FLX" />
              <CreateFlexoConceptInstanceParameter id="131" paramName="cityParameter" value="currentCity" userID="FLX" />
            </MatchFlexoConceptInstance>
          </ConditionalAction>
        </ConditionalAction>
      </IterationAction>
    </FetchRequestIterationAction>
    <FetchRequestIterationAction id="132" iteratorName="residentInModel1" userID="FLX">
      <AddressedSelectEMFObjectIndividual id="133" ontologyClassURI="http://www.thalesgroup.com/openflexo/emf/model/city1/Resident" userID="FLX">
        <EMFModelSlot idref="5" userID="FLX" />
      </AddressedSelectEMFObjectIndividual>
      <EMFModelSlot idref="5" userID="FLX" />
      <FetchRequest_SelectEMFObjectIndividual id="134" ontologyClassURI="http://www.thalesgroup.com/openflexo/emf/model/city2/House" variableName="matchingHousesWithSameResident" assignation="matchingHousesWithSameResident" userID="FLX">
        <Condition id="135" condition="(selected.owner.toUpperCase = residentInModel1.name.toUpperCase)" userID="FLX" />
        <EMFModelSlot idref="7" userID="FLX" />
      </FetchRequest_SelectEMFObjectIndividual>
      <ConditionalAction id="136" condition="(matchingHousesWithSameResident.size = 0)" userID="FLX">
        <MatchFlexoConceptInstance id="137" virtualModelInstance="virtualModelInstance" creationSchemeURI="http://www.thalesgroup.com/openflexo/emf/CityMapping/CityMapping#Resident.creation" userID="FLX">
          <MatchingCriteria id="138" patternRoleName="residentInModel1" value="residentInModel1" userID="FLX" />
          <MatchingCriteria id="139" patternRoleName="houseInModel2" value="null" userID="FLX" />
          <CreateFlexoConceptInstanceParameter id="140" paramName="residentInModel1" value="residentInModel1" userID="FLX" />
          <CreateFlexoConceptInstanceParameter id="141" paramName="houseInModel2" value="null" userID="FLX" />
        </MatchFlexoConceptInstance>
      </ConditionalAction>
      <ConditionalAction id="142" condition="(matchingHousesWithSameResident.size &gt;= 1)" userID="FLX">
        <MatchFlexoConceptInstance id="143" virtualModelInstance="virtualModelInstance" creationSchemeURI="http://www.thalesgroup.com/openflexo/emf/CityMapping/CityMapping#Resident.creation" name="" userID="FLX">
          <MatchingCriteria id="144" patternRoleName="residentInModel1" value="residentInModel1" userID="FLX" />
          <MatchingCriteria id="145" patternRoleName="houseInModel2" value="matchingHousesWithSameResident.get(0)" userID="FLX" />
          <CreateFlexoConceptInstanceParameter id="146" paramName="residentInModel1" value="residentInModel1" userID="FLX" />
          <CreateFlexoConceptInstanceParameter id="147" paramName="houseInModel2" value="matchingHousesWithSameResident.get(0)" userID="FLX" />
        </MatchFlexoConceptInstance>
      </ConditionalAction>
    </FetchRequestIterationAction>
    <FetchRequestIterationAction id="148" iteratorName="city2" userID="FLX">
      <AddressedSelectEMFObjectIndividual id="149" ontologyClassURI="http://www.thalesgroup.com/openflexo/emf/model/city2/City" variableName="matchingCitiesInModel1" assignation="matchingCitiesInModel1" userID="FLX">
        <EMFModelSlot idref="7" userID="FLX" />
      </AddressedSelectEMFObjectIndividual>
      <EMFModelSlot idref="7" userID="FLX" />
      <FetchRequest_SelectEMFObjectIndividual id="150" ontologyClassURI="http://www.thalesgroup.com/openflexo/emf/model/city1/City" variableName="matchingCitiesInModel1" assignation="matchingCitiesInModel1" userID="FLX">
        <Condition id="151" condition="(selected.name = city2.name)" userID="FLX" />
        <EMFModelSlot idref="5" userID="FLX" />
      </FetchRequest_SelectEMFObjectIndividual>
      <ConditionalAction id="152" condition="(matchingCitiesInModel1.size = 0)" userID="FLX">
        <MatchFlexoConceptInstance id="153" virtualModelInstance="virtualModelInstance" creationSchemeURI="http://www.thalesgroup.com/openflexo/emf/CityMapping/CityMapping#City.creation" userID="FLX">
          <MatchingCriteria id="154" patternRoleName="cityInModel1" value="null" userID="FLX" />
          <MatchingCriteria id="155" patternRoleName="cityInModel2" value="city2" userID="FLX" />
          <CreateFlexoConceptInstanceParameter id="156" paramName="cityInModel1" value="null" userID="FLX" />
          <CreateFlexoConceptInstanceParameter id="157" paramName="cityInModel2" value="city2" userID="FLX" />
        </MatchFlexoConceptInstance>
      </ConditionalAction>
    </FetchRequestIterationAction>
  </SynchronizationScheme>
  <ActionScheme id="158" name="synchronizeModel2FromModel1" label="Synchronize model2 from model 1" skipConfirmationPanel="false" definePopupDefaultSize="false" width="800" height="600" userID="FLX">
    <SelectFlexoConceptInstance id="159" flexoConceptTypeURI="http://www.thalesgroup.com/openflexo/emf/CityMapping/CityMapping#City" variableName="nonExistantCitiesInModel2" assignation="nonExistantCitiesInModel2" userID="FLX">
      <Condition id="160" condition="(selected.cityInModel2 = null)" userID="FLX" />
    </SelectFlexoConceptInstance>
    <IterationAction id="161" iteration="nonExistantCitiesInModel2" iteratorName="nonExistantCity" userID="FLX">
      <ExecutionAction id="162" execution="nonExistantCity.generateModel2FromModel1()" userID="FLX" />
    </IterationAction>
  </ActionScheme>
  <ActionScheme id="163" name="synchronizeModel1FromModel2" label="synchronizeModel1FromModel2" skipConfirmationPanel="false" definePopupDefaultSize="false" width="800" height="600" userID="FLX">
    <SelectFlexoConceptInstance id="164" flexoConceptTypeURI="http://www.thalesgroup.com/openflexo/emf/CityMapping/CityMapping#City" variableName="nonExistingCitiesInModel1" assignation="nonExistingCitiesInModel1" userID="FLX">
      <Condition id="165" condition="(selected.cityInModel1 = null)" userID="FLX" />
    </SelectFlexoConceptInstance>
    <IterationAction id="166" iteration="nonExistingCitiesInModel1" iteratorName="nonExistingCity" userID="FLX">
      <ExecutionAction id="167" execution="nonExistingCity.generateModel1FromModel2()" userID="FLX" />
    </IterationAction>
  </ActionScheme>
  <Inspector id="168" inspectorTitle="CityMapping" userID="FLX" />
</VirtualModel>
