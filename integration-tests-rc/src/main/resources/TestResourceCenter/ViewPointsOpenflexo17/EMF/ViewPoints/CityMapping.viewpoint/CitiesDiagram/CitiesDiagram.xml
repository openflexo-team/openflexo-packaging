<?xml version="1.0" encoding="UTF-8"?>
<VirtualModel id="0" useSpecificDescriptions="false" userID="FLX" isAbstract="false" flexoID="61" name="CitiesDiagram">
  <FlexoConcept id="1" useSpecificDescriptions="false" userID="FLX" isAbstract="false" flexoID="10" name="CityGR">
    <Inspector id="2" flexoID="1" useSpecificDescriptions="false" userID="FLX" inspectorTitle="CityGR" renderer="(((city.cityInModel1 != null) ? (&quot;SyncCity (1) : &quot; + city.cityInModel1.name) : (&quot;SyncCity (2) : &quot; + city.cityInModel2.name)) + &quot;-&quot;)" />
    <ShapeRole id="3" exampleLabel="label" useSpecificDescriptions="false" userID="FLX" cloningStrategy="Clone" flexoID="102" name="shape" cardinality="ZeroOne">
      <ShapeGraphicalRepresentation id="4" minimalHeight="0.0" relativeTextX="0.5" transparency="1.0" drawControlPointsWhenFocused="true" height="80.0" hasFocusedBackground="false" verticalTextAlignment="BOTTOM" adjustMinimalWidthToLabelWidth="true" width="80.0" hasFocusedForeground="false" hasSelectedBackground="false" allowToLeaveBounds="true" isFocusable="true" drawControlPointsWhenSelected="true" isSelectable="true" isLabelEditable="true" relativeTextY="0.95" continuousTextEditing="true" minimalWidth="0.0" identifier="4f29a766" lineWrap="false" locationConstraints="FREELY_MOVABLE" adjustMinimalHeightToLabelHeight="true" horizontalTextAlignment="CENTER" adaptBoundsToContents="false" maximalHeight="Infinity" isVisible="true" dimensionConstraints="FREELY_RESIZABLE" isReadOnly="false" adjustMaximalHeightToLabelHeight="false" isFloatingLabel="false" hasSelectedForeground="false" paragraphAlignment="CENTER" absoluteTextX="0.0" layer="1" absoluteTextY="0.0" adjustMaximalWidthToLabelWidth="false" isMultilineAllowed="false" y="74.0" maximalWidth="Infinity" x="159.0">
        <FocusedForegroundStyle id="5" dashStyle="PLAIN_STROKE" color="0,0,0" noStroke="false" transparencyLevel="0.5" useTransparency="false" lineWidth="1.0" joinStyle="JOIN_MITER" capStyle="CAP_SQUARE" />
        <SelectedColorBackgroundStyle id="6" color="192,192,192" transparencyLevel="0.5" useTransparency="false" />
        <TextStyle id="7" orientation="0" color="54,0,255" backgroundColor="255,255,255" font="SansSerif.bold,1,20" isBackgroundColored="false" />
        <ShapeBorder id="8" bottom="2" left="2" right="2" top="2" />
        <ForegroundStyle id="9" dashStyle="PLAIN_STROKE" color="0,0,0" noStroke="false" transparencyLevel="0.5" useTransparency="false" lineWidth="1.0" joinStyle="JOIN_MITER" capStyle="CAP_SQUARE" />
        <SelectedForegroundStyle id="10" dashStyle="PLAIN_STROKE" color="0,0,0" noStroke="false" transparencyLevel="0.5" useTransparency="false" lineWidth="1.0" joinStyle="JOIN_MITER" capStyle="CAP_SQUARE" />
        <FocusedColorBackgroundStyle id="11" color="192,192,192" transparencyLevel="0.5" useTransparency="false" />
        <CircleShape id="12" />
        <ShadowStyle id="13" shadowDepth="2" shadowBlur="4" drawShadow="true" shadowDarkness="150" />
        <ImageBackgroundStyle id="14" scaleX="0.625" scaleY="0.625" imageBackgroundColor="255,255,255" transparencyLevel="0.5" fitToShape="true" useTransparency="false" imageFile="City.png" deltaX="0.0" imageBackgroundType="TRANSPARENT" deltaY="0.0" />
      </ShapeGraphicalRepresentation>
      <GRSpec id="15" featureName="label" flexoID="122" readOnly="true" useSpecificDescriptions="false" userID="FLX" value="city.render" />
      <TypedDiagramModelSlot idref="16" />
    </ShapeRole>
    <FlexoConceptInstanceRole id="17" flexoID="114" useSpecificDescriptions="false" userID="FLX" name="city" flexoConceptTypeURI="http://www.thalesgroup.com/openflexo/emf/CityMapping/CityMapping#City" cloningStrategy="Reference" cardinality="ZeroOne">
      <FMLRTModelSlot idref="18" />
    </FlexoConceptInstanceRole>
    <CreationScheme id="19" userID="FLX" useSpecificDescriptions="false" width="800" label="creation" definePopupDefaultSize="false" height="600" flexoID="4" skipConfirmationPanel="false" name="creation">
      <BehaviourControlGraph_Sequence id="20" flexoID="76" userID="FLX" useSpecificDescriptions="false">
        <ControlGraph1_AssignationAction id="21" userID="FLX" useSpecificDescriptions="false" flexoID="77" ownerContext="controlGraph1" assign="city">
          <AssignableAction_ExpressionAction id="22" expression="parameters.city" flexoID="78" userID="FLX" useSpecificDescriptions="false" />
        </ControlGraph1_AssignationAction>
        <ControlGraph2_AssignationAction id="23" userID="FLX" useSpecificDescriptions="false" flexoID="79" ownerContext="controlGraph2" assign="shape">
          <AssignableAction_AddShape id="24" flexoID="12" description="" container="" useSpecificDescriptions="false" userID="FLX" extendParentBoundsToHostThisShape="false" assignation="shape">
            <TypedDiagramModelSlot id="16" userID="FLX" useSpecificDescriptions="false" cloningStrategy="Reference" flexoID="21" isRequired="true" metaModelURI="http://www.thalesgroup.com/openflexo/emf/CityMapping/CitiesDiagram/CitiesDiagram.diagramspecification" isReadOnly="false" cardinality="ZeroOne" />
          </AssignableAction_AddShape>
        </ControlGraph2_AssignationAction>
      </BehaviourControlGraph_Sequence>
      <FlexoConceptInstanceParameter id="26" userID="FLX" useSpecificDescriptions="false" label="city" flexoID="23" isRequired="false" name="city" />
    </CreationScheme>
    <DeletionScheme id="27" userID="FLX" useSpecificDescriptions="false" width="800" label="deletion" definePopupDefaultSize="false" height="600" flexoID="5" skipConfirmationPanel="false" name="deletion">
      <BehaviourControlGraph_DeleteAction id="28" flexoID="13" useSpecificDescriptions="false" userID="FLX" object="shape" />
    </DeletionScheme>
    <ActionScheme id="29" userID="FLX" useSpecificDescriptions="false" width="800" label="synchronizeThatCity" definePopupDefaultSize="false" height="600" flexoID="42" skipConfirmationPanel="false" name="synchronizeThatCity">
      <BehaviourControlGraph_Sequence id="30" flexoID="80" userID="FLX" useSpecificDescriptions="false">
        <ControlGraph1_ExpressionAction id="31" expression="city.generateModel1FromModel2()" flexoID="81" ownerContext="controlGraph1" userID="FLX" useSpecificDescriptions="false" />
        <ControlGraph2_ExpressionAction id="32" expression="city.generateModel2FromModel1()" flexoID="82" ownerContext="controlGraph2" userID="FLX" useSpecificDescriptions="false" />
      </BehaviourControlGraph_Sequence>
    </ActionScheme>
    <ActionScheme id="33" userID="FLX" useSpecificDescriptions="false" width="800" label="ChangeTheName" definePopupDefaultSize="false" height="600" flexoID="47" skipConfirmationPanel="false" name="ChangeTheName">
      <BehaviourControlGraph_Sequence id="34" flexoID="83" userID="FLX" useSpecificDescriptions="false">
        <ControlGraph1_AssignationAction id="35" userID="FLX" useSpecificDescriptions="false" flexoID="84" ownerContext="controlGraph1" assign="city.cityInModel1.name">
          <AssignableAction_ExpressionAction id="36" expression="parameters.newName" flexoID="85" userID="FLX" useSpecificDescriptions="false" />
        </ControlGraph1_AssignationAction>
        <ControlGraph2_AssignationAction id="37" userID="FLX" useSpecificDescriptions="false" flexoID="86" ownerContext="controlGraph2" assign="city.cityInModel2.name">
          <AssignableAction_ExpressionAction id="38" expression="parameters.newName" flexoID="87" userID="FLX" useSpecificDescriptions="false" />
        </ControlGraph2_AssignationAction>
      </BehaviourControlGraph_Sequence>
      <TextFieldParameter id="39" flexoID="49" isRequired="false" name="newName" useSpecificDescriptions="false" userID="FLX" label="newName" />
    </ActionScheme>
  </FlexoConcept>
  <Inspector id="40" flexoID="23" useSpecificDescriptions="false" userID="FLX" inspectorTitle="CitiesDiagram" />
  <ModelSlot_FMLRTModelSlot id="18" useSpecificDescriptions="false" userID="FLX" cloningStrategy="Reference" flexoID="75" isRequired="true" name="mappingmodel" isReadOnly="false" virtualModelURI="http://www.thalesgroup.com/openflexo/emf/CityMapping/CityMapping" cardinality="ZeroOne" />
  <ModelSlot_TypedDiagramModelSlot id="16" userID="FLX" useSpecificDescriptions="false" cloningStrategy="Reference" flexoID="89" isRequired="true" name="diagram" metaModelURI="http://www.thalesgroup.com/openflexo/emf/CityMapping/CitiesDiagram/CitiesDiagram.diagramspecification" isReadOnly="false" cardinality="ZeroOne" />
  <DeletionScheme id="41" userID="FLX" useSpecificDescriptions="false" width="800" label="deletion" definePopupDefaultSize="false" height="600" flexoID="46" skipConfirmationPanel="false" name="deletion" />
  <SynchronizationScheme id="42" userID="FLX" useSpecificDescriptions="false" width="800" label="synchronize" definePopupDefaultSize="false" height="600" flexoID="22" skipConfirmationPanel="false" name="synchronize">
    <BehaviourControlGraph_IterationAction id="43" iteratorName="cityFC" useSpecificDescriptions="false" userID="FLX" flexoID="27">
      <ControlGraph_MatchFlexoConceptInstance id="44" userID="FLX" useSpecificDescriptions="false" virtualModelInstance="virtualModelInstance" flexoID="34" creationSchemeURI="http://www.thalesgroup.com/openflexo/emf/CityMapping/CitiesDiagram#CityGR.creation" ownerContext="controlGraph" description="">
        <MatchingCriteria id="45" flexoID="37" useSpecificDescriptions="false" userID="FLX" patternRoleName="shape" />
        <MatchingCriteria id="46" flexoID="38" useSpecificDescriptions="false" userID="FLX" value="cityFC" patternRoleName="city" />
        <CreateFlexoConceptInstanceParameter id="47" flexoID="116" userID="FLX" useSpecificDescriptions="false" value="cityFC" paramName="city" />
      </ControlGraph_MatchFlexoConceptInstance>
      <Iteration_SelectFlexoConceptInstance id="48" useSpecificDescriptions="false" userID="FLX" virtualModelInstance="mappingmodel" flexoID="29" ownerContext="iterationControlGraph" flexoConceptTypeURI="http://www.thalesgroup.com/openflexo/emf/CityMapping/CityMapping#City" />
    </BehaviourControlGraph_IterationAction>
  </SynchronizationScheme>
</VirtualModel>
